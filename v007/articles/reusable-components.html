<!DOCTYPE html>
<html>

  <head>
  <title>Reusable Components</title>
  <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
  <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
  <meta name="description" content="When designing interfaces, break down the common design elements (buttons, form fields, layout components, etc.) into reusable components with well-defined i...">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <link rel="stylesheet" href="/help-doc/v007/css/ui.css">
  <link rel="canonical" href="/help-doc/v007/articles/reusable-components.html">
  <link rel="alternate" type="application/rss+xml" title="GitHub Help" href="/feed.xml" | prepend: site.baseurl | prepend: site.url }}" />
</head>


  <body class='app'>

    <div class='header'>
  <div class='container'>
    <div class='row'>
      <div class='col-pad-12'>
        <div class='site'>
          <a href="/help-doc/v007/">
            <span class='s0'>GitHub Help</span>
            <span class='s1'>Center</span>
          </a> 
<!--
          <div class="wrapper">

            <nav class="site-nav">
              <a href="#" class="menu-icon">
                <svg viewBox="0 0 18 15">
                  <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                  <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                  <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
              </a>

              <div class="trigger">
                
                  
                  <a class="page-link" href="/help-doc/v007/about/">About</a>
                  
                
                  
                
                  
                
                  
                  <a class="page-link" href="/help-doc/v007/search/index.html">Search</a>
                  
                
                  
                
              </div>
            </nav>

          </div>
-->
        </div>
      </div>
    </div>
  </div>
</div>



    <div class='container'>
      <div class='row'>
        <div class='sidebar col-pad-3'> 
          
  
  <div class='category'>
    <div class='name'>
      <a href="/help-doc/v007/categories/guides">Guides</a>
    </div>
    <div class='articles'>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/github-flavored-markdown.html">GFM</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/why-react.html">Why React?</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/displaying-data.html">Displaying Data</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
          
          <ul>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/jsx-in-depth.html">JSX in Depth</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/jsx-spread.html">JSX Spread</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/jsx-gotchas.html">JSX Gotchas</a>
    </li>
  
</ul>

        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/interactivity-and-dynamic-uis.html">Interactivity and Dynamic UIs</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/multiple-components.html">Multiple Components</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/reusable-components.html">Reusable Components</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/transferring-props.html">Transferring Props</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/forms.html">Forms</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/working-with-the-browser.html">Working with the Browser</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
          
          <ul>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/more-about-refs.html">More About Refs</a>
    </li>
  
</ul>

        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/tooling-integration.html">Tooling Integration</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/addons.html">Addons</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
          
          <ul>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/animation.html">Animation</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/two-way-binding-helpers.html">Two-Way Binding Helpers</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/class-name-manipulation.html">Class Name Manipulation</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/test-utilities.html">Test Utilities</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/clone-with-props.html">Clone with Props</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/create-fragment.html">Create Fragment</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/immutability-helpers.html">Immutability Helpers</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/pure-render-mixin.html">Pure Render Mixin</a>
    </li>
  
    <li>
      <a class="post-link" href="/help-doc/v007/articles/performance-tools.html">Performance Tools</a>
    </li>
  
</ul>

        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
      <div class='article'>
        <a class="post-link" href="/help-doc/v007/articles/advanced-performance.html">Advanced Performance</a>
        <!-- 如果当前文章有下属的子文章，就顺便列出它们 -->
        
        
        <!-- 子文档列表功能 增加的代码部分结束 -->
      </div>
      
    </div>
  </div>


        </div>
        <div class='main col-pad-9'>

          <!-- 注意，如果发布到 github pages 时采用了 gh-pages 方式，那么下列代码中的 /search, /js 等路径需要增加 /help-doc/v007 前缀 -->
<div id="search">
  <h2>
  <form action="/help-doc/v007/search" method="get">
    <input type="text" id="search-query" name="q" placeholder="Search" autocomplete="off">
  </form>
  </h2>
</div>
<section id="search-results" style="display: none;">
  <h3>Search results</h3>
  <div class="entries">
  </div>
</section>

<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <h3>
        <a href="{{{ site.baseurl }}}{{url}}">{{title}}</a>
      </h3>
    </article>
  {{/entries}}
</script>

<script src="/help-doc/v007/js/search.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl: '/help-doc/v007/js/index.json',   // Url for the .json file containing search index data
      results : '#search-results',  // selector for containing search results element
      entries : '.entries',         // selector for search entries containing element (contained within results above)
      template: '#search-results-template'  // selector for Mustache.js template
    });
  });
</script>


          <h1>Reusable Components</h1>
<p></p>

<p>When designing interfaces, break down the common design elements (buttons, form fields, layout components, etc.) into reusable components with well-defined interfaces. That way, the next time you need to build some UI, you can write much less code. This means faster development time, fewer bugs, and fewer bytes down the wire.</p>

<h2 id="prop-validation">Prop Validation</h2>

<p>As your app grows it’s helpful to ensure that your components are used correctly. We do this by allowing you to specify <code>propTypes</code>. <code>React.PropTypes</code> exports a range of validators that can be used to make sure the data you receive is valid. When an invalid value is provided for a prop, a warning will be shown in the JavaScript console. Note that for performance reasons <code>propTypes</code> is only checked in development mode. Here is an example documenting the different validators provided:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>React.createClass({
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#606">propTypes</span>: {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#777">// You can declare that a prop is a specific JS primitive. By default, these</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#777">// are all optional.</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    <span style="color:#606">optionalArray</span>: React.PropTypes.array,
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#606">optionalBool</span>: React.PropTypes.bool,
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#606">optionalFunc</span>: React.PropTypes.func,
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    <span style="color:#606">optionalNumber</span>: React.PropTypes.number,
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    <span style="color:#606">optionalObject</span>: React.PropTypes.object,
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    <span style="color:#606">optionalString</span>: React.PropTypes.string,
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    <span style="color:#777">// Anything that can be rendered: numbers, strings, elements or an array</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    <span style="color:#777">// (or fragment) containing these types.</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    <span style="color:#606">optionalNode</span>: React.PropTypes.node,
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    <span style="color:#777">// A React element.</span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>    <span style="color:#606">optionalElement</span>: React.PropTypes.element,
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>    <span style="color:#777">// You can also declare that a prop is an instance of a class. This uses</span>
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>    <span style="color:#777">// JS's instanceof operator.</span>
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>    <span style="color:#606">optionalMessage</span>: React.PropTypes.instanceOf(Message),
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>    <span style="color:#777">// You can ensure that your prop is limited to specific values by treating</span>
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>    <span style="color:#777">// it as an enum.</span>
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>    <span style="color:#606">optionalEnum</span>: React.PropTypes.oneOf([<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">News</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Photos</span><span style="color:#710">'</span></span>]),
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>    <span style="color:#777">// An object that could be one of many types</span>
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>    <span style="color:#606">optionalUnion</span>: React.PropTypes.oneOfType([
<span class="line-numbers"><a href="#n29" name="n29">29</a></span>      React.PropTypes.string,
<span class="line-numbers"><strong><a href="#n30" name="n30">30</a></strong></span>      React.PropTypes.number,
<span class="line-numbers"><a href="#n31" name="n31">31</a></span>      React.PropTypes.instanceOf(Message)
<span class="line-numbers"><a href="#n32" name="n32">32</a></span>    ]),
<span class="line-numbers"><a href="#n33" name="n33">33</a></span>
<span class="line-numbers"><a href="#n34" name="n34">34</a></span>    <span style="color:#777">// An array of a certain type</span>
<span class="line-numbers"><a href="#n35" name="n35">35</a></span>    <span style="color:#606">optionalArrayOf</span>: React.PropTypes.arrayOf(React.PropTypes.number),
<span class="line-numbers"><a href="#n36" name="n36">36</a></span>
<span class="line-numbers"><a href="#n37" name="n37">37</a></span>    <span style="color:#777">// An object with property values of a certain type</span>
<span class="line-numbers"><a href="#n38" name="n38">38</a></span>    <span style="color:#606">optionalObjectOf</span>: React.PropTypes.objectOf(React.PropTypes.number),
<span class="line-numbers"><a href="#n39" name="n39">39</a></span>
<span class="line-numbers"><strong><a href="#n40" name="n40">40</a></strong></span>    <span style="color:#777">// An object taking on a particular shape</span>
<span class="line-numbers"><a href="#n41" name="n41">41</a></span>    <span style="color:#606">optionalObjectWithShape</span>: React.PropTypes.shape({
<span class="line-numbers"><a href="#n42" name="n42">42</a></span>      <span style="color:#606">color</span>: React.PropTypes.string,
<span class="line-numbers"><a href="#n43" name="n43">43</a></span>      <span style="color:#606">fontSize</span>: React.PropTypes.number
<span class="line-numbers"><a href="#n44" name="n44">44</a></span>    }),
<span class="line-numbers"><a href="#n45" name="n45">45</a></span>
<span class="line-numbers"><a href="#n46" name="n46">46</a></span>    <span style="color:#777">// You can chain any of the above with `isRequired` to make sure a warning</span>
<span class="line-numbers"><a href="#n47" name="n47">47</a></span>    <span style="color:#777">// is shown if the prop isn't provided.</span>
<span class="line-numbers"><a href="#n48" name="n48">48</a></span>    <span style="color:#606">requiredFunc</span>: React.PropTypes.func.isRequired,
<span class="line-numbers"><a href="#n49" name="n49">49</a></span>
<span class="line-numbers"><strong><a href="#n50" name="n50">50</a></strong></span>    <span style="color:#777">// A value of any data type</span>
<span class="line-numbers"><a href="#n51" name="n51">51</a></span>    <span style="color:#606">requiredAny</span>: React.PropTypes.any.isRequired,
<span class="line-numbers"><a href="#n52" name="n52">52</a></span>
<span class="line-numbers"><a href="#n53" name="n53">53</a></span>    <span style="color:#777">// You can also specify a custom validator. It should return an Error</span>
<span class="line-numbers"><a href="#n54" name="n54">54</a></span>    <span style="color:#777">// object if the validation fails. Don't `console.warn` or throw, as this</span>
<span class="line-numbers"><a href="#n55" name="n55">55</a></span>    <span style="color:#777">// won't work inside `oneOfType`.</span>
<span class="line-numbers"><a href="#n56" name="n56">56</a></span>    <span style="color:#06B;font-weight:bold">customProp</span>: <span style="color:#080;font-weight:bold">function</span>(props, propName, componentName) {
<span class="line-numbers"><a href="#n57" name="n57">57</a></span>      <span style="color:#080;font-weight:bold">if</span> (!<span style="background-color:hsla(300,100%,50%,0.06)"><span style="color:#404">/</span><span style="color:#808">matchme</span><span style="color:#404">/</span></span>.test(props[propName])) {
<span class="line-numbers"><a href="#n58" name="n58">58</a></span>        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> Error(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Validation failed!</span><span style="color:#710">'</span></span>);
<span class="line-numbers"><a href="#n59" name="n59">59</a></span>      }
<span class="line-numbers"><strong><a href="#n60" name="n60">60</a></strong></span>    }
<span class="line-numbers"><a href="#n61" name="n61">61</a></span>  },
<span class="line-numbers"><a href="#n62" name="n62">62</a></span>  <span style="color:#777">/* ... */</span>
<span class="line-numbers"><a href="#n63" name="n63">63</a></span>});
</pre></div>
</div>
</div>

<h2 id="default-prop-values">Default Prop Values</h2>

<p>React lets you define default values for your <code>props</code> in a very declarative way:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">var</span> ComponentWithDefaultProps = React.createClass({
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#06B;font-weight:bold">getDefaultProps</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#080;font-weight:bold">return</span> {
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>      <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">default value</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>    };
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>  }
<span class="line-numbers"><a href="#n7" name="n7">7</a></span>  <span style="color:#777">/* ... */</span>
<span class="line-numbers"><a href="#n8" name="n8">8</a></span>});
</pre></div>
</div>
</div>

<p>The result of <code>getDefaultProps()</code> will be cached and used to ensure that <code>this.props.value</code> will have a value if it was not specified by the parent component. This allows you to safely just use your props without having to write repetitive and fragile code to handle that yourself.</p>

<h2 id="transferring-props-a-shortcut">Transferring Props: A Shortcut</h2>

<p>A common type of React component is one that extends a basic HTML element in a simple way. Often you’ll want to copy any HTML attributes passed to your component to the underlying HTML element to save typing. You can use the JSX <em>spread</em> syntax to achieve this:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">var</span> CheckLink = React.createClass({
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#06B;font-weight:bold">render</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#777">// This takes any props passed to CheckLink and copies them to &lt;a&gt;</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#080;font-weight:bold">return</span> <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#F00;background-color:#FAA">{</span><span style="color:#b48">...this.props</span><span style="color:#F00;background-color:#FAA">}</span><span style="color:#070;font-weight:bold">&gt;</span>{'√ '}{this.props.children}<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>;
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>  }
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>});
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>React.render(
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  <span style="color:#070;font-weight:bold">&lt;CheckLink</span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/checked.html</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    Click here!
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  <span style="color:#070;font-weight:bold">&lt;/CheckLink&gt;</span>,
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>  document.getElementById(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">example</span><span style="color:#710">'</span></span>)
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>);
</pre></div>
</div>
</div>

<h2 id="single-child">Single Child</h2>

<p>With <code>React.PropTypes.element</code> you can specify that only a single child can be passed to<br />
a component as children.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">var</span> MyComponent = React.createClass({
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#606">propTypes</span>: {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#606">children</span>: React.PropTypes.element.isRequired
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  },
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#06B;font-weight:bold">render</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#080;font-weight:bold">return</span> (
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>      <span style="color:#070;font-weight:bold">&lt;div&gt;</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>        {this.props.children} // This must be exactly one element or it will throw.
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>      <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    );
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>  }
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>});
</pre></div>
</div>
</div>

<h2 id="mixins">Mixins</h2>

<p>Components are the best way to reuse code in React, but sometimes very different components may share some common functionality. These are sometimes called <a href="https://en.wikipedia.org/wiki/Cross-cutting_concern">cross-cutting concerns</a>. React provides <code>mixins</code> to solve this problem.</p>

<p>One common use case is a component wanting to update itself on a time interval. It’s easy to use <code>setInterval()</code>, but it’s important to cancel your interval when you don’t need it anymore to save memory. React provides <a href="/react/docs/working-with-the-browser.html#component-lifecycle">lifecycle methods</a> that let you know when a component is about to be created or destroyed. Let’s create a simple mixin that uses these methods to provide an easy <code>setInterval()</code> function that will automatically get cleaned up when your component is destroyed.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">var</span> SetIntervalMixin = {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#06B;font-weight:bold">componentWillMount</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#950">this</span>.intervals = [];
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  },
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>  <span style="color:#06B;font-weight:bold">setInterval</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#950">this</span>.intervals.push(setInterval.apply(<span style="color:#069">null</span>, <span style="color:#950">arguments</span>));
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  },
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#06B;font-weight:bold">componentWillUnmount</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    <span style="color:#950">this</span>.intervals.forEach(clearInterval);
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>  }
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>};
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#080;font-weight:bold">var</span> TickTock = React.createClass({
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  <span style="color:#606">mixins</span>: [SetIntervalMixin], <span style="color:#777">// Use the mixin</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>  <span style="color:#06B;font-weight:bold">getInitialState</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    <span style="color:#080;font-weight:bold">return</span> {<span style="color:#606">seconds</span>: <span style="color:#00D">0</span>};
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>  },
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>  <span style="color:#06B;font-weight:bold">componentDidMount</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>    <span style="color:#950">this</span>.setInterval(<span style="color:#950">this</span>.tick, <span style="color:#00D">1000</span>); <span style="color:#777">// Call a method on the mixin</span>
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>  },
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>  <span style="color:#06B;font-weight:bold">tick</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>    <span style="color:#950">this</span>.setState({<span style="color:#606">seconds</span>: <span style="color:#950">this</span>.state.seconds + <span style="color:#00D">1</span>});
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>  },
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>  <span style="color:#06B;font-weight:bold">render</span>: <span style="color:#080;font-weight:bold">function</span>() {
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>    <span style="color:#080;font-weight:bold">return</span> (
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>      <span style="color:#070;font-weight:bold">&lt;p&gt;</span>
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>        React has been running for {this.state.seconds} seconds.
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>      <span style="color:#070;font-weight:bold">&lt;/p&gt;</span>
<span class="line-numbers"><a href="#n29" name="n29">29</a></span>    );
<span class="line-numbers"><strong><a href="#n30" name="n30">30</a></strong></span>  }
<span class="line-numbers"><a href="#n31" name="n31">31</a></span>});
<span class="line-numbers"><a href="#n32" name="n32">32</a></span>
<span class="line-numbers"><a href="#n33" name="n33">33</a></span>React.render(
<span class="line-numbers"><a href="#n34" name="n34">34</a></span>  <span style="color:#070;font-weight:bold">&lt;TickTock</span> <span style="color:#070;font-weight:bold">/&gt;</span>,
<span class="line-numbers"><a href="#n35" name="n35">35</a></span>  document.getElementById(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">example</span><span style="color:#710">'</span></span>)
<span class="line-numbers"><a href="#n36" name="n36">36</a></span>);
</pre></div>
</div>
</div>

<p>A nice feature of mixins is that if a component is using multiple mixins and several mixins define the same lifecycle method (i.e. several mixins want to do some cleanup when the component is destroyed), all of the lifecycle methods are guaranteed to be called. Methods defined on mixins run in the order mixins were listed, followed by a method call on the component.</p>

<h2 id="es6-classes">ES6 Classes</h2>

<p>You may also define your React classes as a plain JavaScript class. For example using ES6 class syntax:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> HelloMessage <span style="color:#080;font-weight:bold">extends</span> React.Component {
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  render() {
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#080;font-weight:bold">return</span> <span style="color:#070;font-weight:bold">&lt;div&gt;</span>Hello {this.props.name}<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>;
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>}
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>React.render(&lt;HelloMessage name=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Sebastian</span><span style="color:#710">&quot;</span></span> /&gt;, mountNode);
</pre></div>
</div>
</div>

<p>The API is similar to <code>React.createClass</code> with the exception of <code>getInitialState</code>. Instead of providing a separate <code>getInitialState</code> method, you set up your own <code>state</code> property in the constructor.</p>

<p>Another difference is that <code>propTypes</code> and <code>defaultProps</code> are defined as properties on the constructor instead of in the class body.</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">export</span> <span style="color:#080;font-weight:bold">class</span> Counter <span style="color:#080;font-weight:bold">extends</span> React.Component {
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  constructor(props) {
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#080;font-weight:bold">super</span>(props);
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#950">this</span>.state = {<span style="color:#606">count</span>: props.initialCount};
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>  }
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  tick() {
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#950">this</span>.setState({<span style="color:#606">count</span>: <span style="color:#950">this</span>.state.count + <span style="color:#00D">1</span>});
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  }
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  render() {
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    <span style="color:#080;font-weight:bold">return</span> (
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>      <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">onClick</span>=<span style="color:#F00;background-color:#FAA">{</span><span style="color:#700">this.tick.bind</span><span style="color:#F00;background-color:#FAA">(</span><span style="color:#b48">this</span><span style="color:#F00;background-color:#FAA">)</span><span style="color:#F00;background-color:#FAA">}</span><span style="color:#070;font-weight:bold">&gt;</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>        Clicks: {this.state.count}
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>      <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>    );
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>  }
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>}
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>Counter.propTypes = { <span style="color:#606">initialCount</span>: React.PropTypes.number };
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>Counter.defaultProps = { <span style="color:#606">initialCount</span>: <span style="color:#00D">0</span> };
</pre></div>
</div>
</div>

<h3 id="no-autobinding">No Autobinding</h3>

<p>Methods follow the same semantics as regular ES6 classes, meaning that they don’t automatically bind <code>this</code> to the instance. You’ll have to explicitly use <code>.bind(this)</code> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a> <code>=&gt;</code>.</p>

<h3 id="no-mixins">No Mixins</h3>

<p>Unfortunately ES6 launched without any mixin support. Therefore, there is no support for mixins when you use React with ES6 classes. Instead, we’re working on making it easier to support such use cases without resorting to mixins.</p>



  
  <h2>
    prev post: <a href='/help-doc/v007/articles/multiple-components.html'>multiple-components.html</a>
  </h2>


  
  <h2>
    next post: <a href='/help-doc/v007/articles/transferring-props.html'>transferring-props.html</a>
  </h2>




        </div>

      </div>
      <div class='row'>

        <div class='team'>GitHub Help</div>
<a class='link' href='mailto:support@github.com' target='_blank'>support@github.com</a>
<div class="footer-col  footer-col-3">
  <p class="text">© 2015 GitHub Inc. All rights reserved.
</p>
</div>


      </div>
    </div>

  </body>
</html>
